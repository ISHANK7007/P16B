Violation Detection → Pattern Analysis → Template Enhancement → Constraint Refinement